include includes/header.pug
block content
    link(rel='stylesheet' , href='/stylesheets/dashboard.css')
    body
        div(id="wrapper")
            include includes/sidenav.pug
            div(id="content-wrapper" class="d-flex flex-column")
                div(id="content")
                    include includes/usernav.pug
                    div(class="container")
                        div(class="d-flex justify-content-between")
                            h5 Attendance for #{classSchool.name} [#{term.name}]
                            a(href=`/staff/mark-attendance/${term.name}` class="ace-btn") Mark Attendance
                        hr
                        
                        .card.mt-3
                            if attendance
                                .flex-d
                                    a(href=`/staff/attendance/${term.name}/1` class="cancel-btn mr-3 mb-3") Week 1
                                    a(href=`/staff/attendance/${term.name}/2` class="cancel-btn mr-3 mb-3") Week 2
                                    a(href=`/staff/attendance/${term.name}/3` class="cancel-btn mr-3 mb-3") Week 3
                                    a(href=`/staff/attendance/${term.name}/4` class="cancel-btn mr-3 mb-3") Week 4
                                    a(href=`/staff/attendance/${term.name}/5` class="cancel-btn mr-3 mb-3") Week 5
                                    a(href=`/staff/attendance/${term.name}/6` class="cancel-btn mr-3 mb-3") Week 6
                                    a(href=`/staff/attendance/${term.name}/7` class="cancel-btn mr-3 mb-3") Week 7
                                    a(href=`/staff/attendance/${term.name}/8` class="cancel-btn mr-3 mb-3") Week 8
                                    a(href=`/staff/attendance/${term.name}/9` class="cancel-btn mr-3 mb-3") Week 9
                                    a(href=`/staff/attendance/${term.name}/10` class="cancel-btn mr-3 mb-3") Week 10
                                    a(href=`/staff/attendance/${term.name}/11` class="cancel-btn mr-3 mb-3") Week 11
                                    a(href=`/staff/attendance/${term.name}/12` class="cancel-btn mr-3 mb-3") Week 12
                                    a(href=`/staff/attendance/${term.name}/13` class="cancel-btn mr-3 mb-3") Week 13
                                    a(href=`/staff/attendance/${term.name}/14` class="cancel-btn mr-3 mb-3") Week 14
                                h4.text-center Week #{week}
                                div(class="table-responsive card" style="overflow-x:auto;")
                                    table(class="table table-bordered")
                                        thead.thead-light
                                            tr
                                                th Full Name
                                                each date in attendanceWeek
                                                    - let attDate = date.date.getDate() + "/" + (date.date.getMonth() + 1) + "/" + date.date.getFullYear()
                                                    th #{attDate}
                                                
                                        tbody
                                            each attend in attendance
                                                tr
                                                    td #{studentName[attend.student]}
                                                    if attend.attendance.length > 0
                                                        each att in attend.attendance
                                                            if att.mark == "Present"
                                                                td #[i(class="fa fa-check text-success")]
                                                            else
                                                                td #[i(class="fa fa-times text-danger")]
                                                    else
                                                        td(colspan="5") No attendance for this week yet.
                            if noAttendance
                                p.text-small #{noAttendance}


        include includes/footer.pug